# Build
Following [Maven exercise](https://github.com/PInfo-2020/Exercises/tree/master/maven) for pinfo course at University of Geneva

## Build the project
At the root of the super-project, where the Super Pom is:
```
mvn clean install
```
to build the project. (In our case we have two thorntail modules generated by Thorntail Project Generator)

## Build Docker images (only for sub-projects)

We use `fabric8-maven-plugin` and reuse the profiles from [the microservices example](https://github.com/hostettler/microservices/blob/master/pom.xml)

When we launch docker containers, we have to make sure the port on the left is not the same for all.

To package the modules into Docker images, we have to edit the pom.xml for the modules and the super-project and then run:
```
mvn install -Ppackage-docker-image
```
**Note:** if errors, need to make sure the docker daemon is active either by checking with `ps -a` if `dockerd` is there. If not, run `sudo dockerd`.


# Thorntail

Projects are generated by the [Thorntail Project Generator](https://thorntail.io/generator/)


## Thorntail Project Generator
Rightsize your Java EE or Eclipse MicroProfile microservice in a few clicks

### Instructions

1. Choose the dependencies you need
2. Click on the Generate button to download the sub-project-microservice2.zip file
3. Unzip the file in a directory of your choice
4. Run `mvn thorntail:run` in the unzipped directory
5. Go to http://localhost:8080/hello and you should see the following message:
```
Hello from Thorntail!
```

We chose the Group ID to be `ch.unige` and the Artifact ID `sub-project-microservice`(1 or 2) and no dependencies.
We can add later JAX-RS for instance.
